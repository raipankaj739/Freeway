{"ast":null,"code":"import { UnavailabilityError } from '@unimodules/core';\nimport invariant from 'invariant';\nimport { Platform } from 'react-native';\nimport ExpoLocalAuthentication from './ExpoLocalAuthentication';\nimport { AuthenticationType } from './LocalAuthentication.types';\nexport { AuthenticationType };\nexport async function hasHardwareAsync() {\n  if (!ExpoLocalAuthentication.hasHardwareAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'hasHardwareAsync');\n  }\n\n  return await ExpoLocalAuthentication.hasHardwareAsync();\n}\nexport async function supportedAuthenticationTypesAsync() {\n  if (!ExpoLocalAuthentication.supportedAuthenticationTypesAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'supportedAuthenticationTypesAsync');\n  }\n\n  return await ExpoLocalAuthentication.supportedAuthenticationTypesAsync();\n}\nexport async function isEnrolledAsync() {\n  if (!ExpoLocalAuthentication.isEnrolledAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'isEnrolledAsync');\n  }\n\n  return await ExpoLocalAuthentication.isEnrolledAsync();\n}\nexport async function authenticateAsync(promptMessageIOS = 'Authenticate') {\n  if (!ExpoLocalAuthentication.authenticateAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'authenticateAsync');\n  }\n\n  if (Platform.OS === 'ios') {\n    invariant(typeof promptMessageIOS === 'string' && promptMessageIOS.length, 'LocalAuthentication.authenticateAsync must be called with a non-empty string on iOS');\n    const result = await ExpoLocalAuthentication.authenticateAsync(promptMessageIOS);\n\n    if (result.warning) {\n      console.warn(result.warning);\n    }\n\n    return result;\n  } else {\n    return await ExpoLocalAuthentication.authenticateAsync();\n  }\n}\nexport async function cancelAuthenticate() {\n  if (!ExpoLocalAuthentication.cancelAuthenticate) {\n    throw new UnavailabilityError('expo-local-authentication', 'cancelAuthenticate');\n  }\n\n  await ExpoLocalAuthentication.cancelAuthenticate();\n}","map":{"version":3,"sources":["../src/LocalAuthentication.ts"],"names":[],"mappings":"AAAA,SAAS,mBAAT,QAAoC,kBAApC;AACA,OAAO,SAAP,MAAsB,WAAtB;AACA,SAAS,QAAT,QAAyB,cAAzB;AAEA,OAAO,uBAAP,MAAoC,2BAApC;AAEA,SAAS,kBAAT,QAA8D,6BAA9D;AAEA,SAAS,kBAAT;AAEA,OAAO,eAAe,gBAAf,GAA+B;AACpC,MAAI,CAAC,uBAAuB,CAAC,gBAA7B,EAA+C;AAC7C,UAAM,IAAI,mBAAJ,CAAwB,2BAAxB,EAAqD,kBAArD,CAAN;AACD;;AACD,SAAO,MAAM,uBAAuB,CAAC,gBAAxB,EAAb;AACD;AAED,OAAO,eAAe,iCAAf,GAAgD;AACrD,MAAI,CAAC,uBAAuB,CAAC,iCAA7B,EAAgE;AAC9D,UAAM,IAAI,mBAAJ,CAAwB,2BAAxB,EAAqD,mCAArD,CAAN;AACD;;AACD,SAAO,MAAM,uBAAuB,CAAC,iCAAxB,EAAb;AACD;AAED,OAAO,eAAe,eAAf,GAA8B;AACnC,MAAI,CAAC,uBAAuB,CAAC,eAA7B,EAA8C;AAC5C,UAAM,IAAI,mBAAJ,CAAwB,2BAAxB,EAAqD,iBAArD,CAAN;AACD;;AACD,SAAO,MAAM,uBAAuB,CAAC,eAAxB,EAAb;AACD;AAED,OAAO,eAAe,iBAAf,CACL,gBAAA,GAA2B,cADtB,EACoC;AAEzC,MAAI,CAAC,uBAAuB,CAAC,iBAA7B,EAAgD;AAC9C,UAAM,IAAI,mBAAJ,CAAwB,2BAAxB,EAAqD,mBAArD,CAAN;AACD;;AAED,MAAI,QAAQ,CAAC,EAAT,KAAgB,KAApB,EAA2B;AACzB,IAAA,SAAS,CACP,OAAO,gBAAP,KAA4B,QAA5B,IAAwC,gBAAgB,CAAC,MADlD,EAEP,qFAFO,CAAT;AAKA,UAAM,MAAM,GAAG,MAAM,uBAAuB,CAAC,iBAAxB,CAA0C,gBAA1C,CAArB;;AAEA,QAAI,MAAM,CAAC,OAAX,EAAoB;AAClB,MAAA,OAAO,CAAC,IAAR,CAAa,MAAM,CAAC,OAApB;AACD;;AACD,WAAO,MAAP;AACD,GAZD,MAYO;AACL,WAAO,MAAM,uBAAuB,CAAC,iBAAxB,EAAb;AACD;AACF;AAED,OAAO,eAAe,kBAAf,GAAiC;AACtC,MAAI,CAAC,uBAAuB,CAAC,kBAA7B,EAAiD;AAC/C,UAAM,IAAI,mBAAJ,CAAwB,2BAAxB,EAAqD,oBAArD,CAAN;AACD;;AACD,QAAM,uBAAuB,CAAC,kBAAxB,EAAN;AACD","sourcesContent":["import { UnavailabilityError } from '@unimodules/core';\nimport invariant from 'invariant';\nimport { Platform } from 'react-native';\n\nimport ExpoLocalAuthentication from './ExpoLocalAuthentication';\n\nimport { AuthenticationType, LocalAuthenticationResult } from './LocalAuthentication.types';\n\nexport { AuthenticationType, LocalAuthenticationResult };\n\nexport async function hasHardwareAsync(): Promise<boolean> {\n  if (!ExpoLocalAuthentication.hasHardwareAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'hasHardwareAsync');\n  }\n  return await ExpoLocalAuthentication.hasHardwareAsync();\n}\n\nexport async function supportedAuthenticationTypesAsync(): Promise<AuthenticationType[]> {\n  if (!ExpoLocalAuthentication.supportedAuthenticationTypesAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'supportedAuthenticationTypesAsync');\n  }\n  return await ExpoLocalAuthentication.supportedAuthenticationTypesAsync();\n}\n\nexport async function isEnrolledAsync(): Promise<boolean> {\n  if (!ExpoLocalAuthentication.isEnrolledAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'isEnrolledAsync');\n  }\n  return await ExpoLocalAuthentication.isEnrolledAsync();\n}\n\nexport async function authenticateAsync(\n  promptMessageIOS: string = 'Authenticate'\n): Promise<LocalAuthenticationResult> {\n  if (!ExpoLocalAuthentication.authenticateAsync) {\n    throw new UnavailabilityError('expo-local-authentication', 'authenticateAsync');\n  }\n\n  if (Platform.OS === 'ios') {\n    invariant(\n      typeof promptMessageIOS === 'string' && promptMessageIOS.length,\n      'LocalAuthentication.authenticateAsync must be called with a non-empty string on iOS'\n    );\n\n    const result = await ExpoLocalAuthentication.authenticateAsync(promptMessageIOS);\n\n    if (result.warning) {\n      console.warn(result.warning);\n    }\n    return result;\n  } else {\n    return await ExpoLocalAuthentication.authenticateAsync();\n  }\n}\n\nexport async function cancelAuthenticate(): Promise<void> {\n  if (!ExpoLocalAuthentication.cancelAuthenticate) {\n    throw new UnavailabilityError('expo-local-authentication', 'cancelAuthenticate');\n  }\n  await ExpoLocalAuthentication.cancelAuthenticate();\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}