{"ast":null,"code":"import filter from 'lodash/filter';\nimport qs from 'query-string';\n\nfunction checkValue(value) {\n  if (!value) {\n    return null;\n  }\n\n  const arr = Array.isArray(value) ? value : [value];\n  return arr.join(',');\n}\n\nexport default {\n  get name() {\n    return 'ExpoMailComposer';\n  },\n\n  async composeAsync(options) {\n    const email = filter({\n      cc: checkValue(options.ccRecipients),\n      bcc: checkValue(options.bccRecipients),\n      subject: options.subject,\n      body: options.body\n    }); // @ts-ignore: Fix this -- just patching to get publishing working for now.\n\n    const query = qs.stringify(email);\n    const queryComponent = query ? '?' + query : '';\n    const to = checkValue(options.recipients);\n    const recipientComponent = to || '';\n    const mailto = `mailto:${recipientComponent}${queryComponent}`;\n    window.open(mailto);\n    return {\n      status: 'undetermined'\n    };\n  }\n\n};","map":{"version":3,"sources":["../src/ExpoMailComposer.web.ts"],"names":[],"mappings":"AAAA,OAAO,MAAP,MAAmB,eAAnB;AACA,OAAO,EAAP,MAAe,cAAf;;AAGA,SAAS,UAAT,CAAoB,KAApB,EAA6C;AAC3C,MAAI,CAAC,KAAL,EAAY;AACV,WAAO,IAAP;AACD;;AAED,QAAM,GAAG,GAAG,KAAK,CAAC,OAAN,CAAc,KAAd,IAAuB,KAAvB,GAA+B,CAAC,KAAD,CAA3C;AACA,SAAO,GAAG,CAAC,IAAJ,CAAS,GAAT,CAAP;AACD;;AAED,eAAe;AACb,MAAI,IAAJ,GAAQ;AACN,WAAO,kBAAP;AACD,GAHY;;AAIb,QAAM,YAAN,CAAmB,OAAnB,EAA0C;AACxC,UAAM,KAAK,GAAG,MAAM,CAAC;AACnB,MAAA,EAAE,EAAE,UAAU,CAAC,OAAO,CAAC,YAAT,CADK;AAEnB,MAAA,GAAG,EAAE,UAAU,CAAC,OAAO,CAAC,aAAT,CAFI;AAGnB,MAAA,OAAO,EAAE,OAAO,CAAC,OAHE;AAInB,MAAA,IAAI,EAAE,OAAO,CAAC;AAJK,KAAD,CAApB,CADwC,CAQxC;;AACA,UAAM,KAAK,GAAG,EAAE,CAAC,SAAH,CAAa,KAAb,CAAd;AACA,UAAM,cAAc,GAAG,KAAK,GAAG,MAAM,KAAT,GAAiB,EAA7C;AACA,UAAM,EAAE,GAAG,UAAU,CAAC,OAAO,CAAC,UAAT,CAArB;AACA,UAAM,kBAAkB,GAAG,EAAE,IAAI,EAAjC;AACA,UAAM,MAAM,GAAG,UAAU,kBAAkB,GAAG,cAAc,EAA5D;AAEA,IAAA,MAAM,CAAC,IAAP,CAAY,MAAZ;AAEA,WAAO;AAAE,MAAA,MAAM,EAAE;AAAV,KAAP;AACD;;AAtBY,CAAf","sourcesContent":["import filter from 'lodash/filter';\nimport qs from 'query-string';\nimport { ComposeOptions, ComposeResult } from './MailComposer.types';\n\nfunction checkValue(value?: string[] | string): string | null {\n  if (!value) {\n    return null;\n  }\n\n  const arr = Array.isArray(value) ? value : [value];\n  return arr.join(',');\n}\n\nexport default {\n  get name(): string {\n    return 'ExpoMailComposer';\n  },\n  async composeAsync(options: ComposeOptions): Promise<ComposeResult> {\n    const email = filter({\n      cc: checkValue(options.ccRecipients),\n      bcc: checkValue(options.bccRecipients),\n      subject: options.subject,\n      body: options.body,\n    });\n\n    // @ts-ignore: Fix this -- just patching to get publishing working for now.\n    const query = qs.stringify(email);\n    const queryComponent = query ? '?' + query : '';\n    const to = checkValue(options.recipients);\n    const recipientComponent = to || '';\n    const mailto = `mailto:${recipientComponent}${queryComponent}`;\n\n    window.open(mailto);\n\n    return { status: 'undetermined' };\n  },\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}