{"ast":null,"code":"import { UnavailabilityError } from '@unimodules/core';\nimport ExpoCrypto from './ExpoCrypto';\nimport { CryptoDigestAlgorithm, CryptoEncoding } from './Crypto.types';\nexport * from './Crypto.types';\n\nclass CryptoError extends TypeError {\n  constructor(message) {\n    super(`expo-crypto: ${message}`);\n    this.code = 'ERR_CRYPTO';\n  }\n\n}\n\nfunction assertAlgorithm(algorithm) {\n  if (!Object.values(CryptoDigestAlgorithm).includes(algorithm)) {\n    throw new CryptoError(`Invalid algorithm provided. Expected one of: CryptoDigestAlgorithm.${Object.keys(CryptoDigestAlgorithm).join(', AlgCryptoDigestAlgorithmorithm.')}`);\n  }\n}\n\nfunction assertData(data) {\n  if (typeof data !== 'string') {\n    throw new CryptoError(`Invalid data provided. Expected a string.`);\n  }\n}\n\nfunction assertEncoding(encoding) {\n  if (!Object.values(CryptoEncoding).includes(encoding)) {\n    throw new CryptoError(`Invalid encoding provided. Expected one of: CryptoEncoding.${Object.keys(CryptoEncoding).join(', CryptoEncoding.')}`);\n  }\n}\n\nexport async function digestStringAsync(algorithm, data, options = {\n  encoding: CryptoEncoding.HEX\n}) {\n  if (!ExpoCrypto.digestStringAsync) {\n    throw new UnavailabilityError('expo-crypto', 'digestStringAsync');\n  }\n\n  assertAlgorithm(algorithm);\n  assertData(data);\n  assertEncoding(options.encoding);\n  return await ExpoCrypto.digestStringAsync(algorithm, data, options);\n}","map":{"version":3,"sources":["../src/Crypto.ts"],"names":[],"mappings":"AAAA,SAAS,mBAAT,QAAoC,kBAApC;AACA,OAAO,UAAP,MAAuB,cAAvB;AAEA,SAAS,qBAAT,EAAgC,cAAhC,QAAmF,gBAAnF;AACA,cAAc,gBAAd;;AAEA,MAAM,WAAN,SAA0B,SAA1B,CAAmC;AAGjC,EAAA,WAAA,CAAY,OAAZ,EAA2B;AACzB,UAAM,gBAAgB,OAAO,EAA7B;AAHF,SAAA,IAAA,GAAO,YAAP;AAIC;;AALgC;;AAQnC,SAAS,eAAT,CAAyB,SAAzB,EAAyD;AACvD,MAAI,CAAC,MAAM,CAAC,MAAP,CAAc,qBAAd,EAAqC,QAArC,CAA8C,SAA9C,CAAL,EAA+D;AAC7D,UAAM,IAAI,WAAJ,CACJ,sEAAsE,MAAM,CAAC,IAAP,CACpE,qBADoE,EAEpE,IAFoE,CAE/D,mCAF+D,CAE3B,EAHvC,CAAN;AAKD;AACF;;AAED,SAAS,UAAT,CAAoB,IAApB,EAAgC;AAC9B,MAAI,OAAO,IAAP,KAAgB,QAApB,EAA8B;AAC5B,UAAM,IAAI,WAAJ,CAAgB,2CAAhB,CAAN;AACD;AACF;;AAED,SAAS,cAAT,CAAwB,QAAxB,EAAgD;AAC9C,MAAI,CAAC,MAAM,CAAC,MAAP,CAAc,cAAd,EAA8B,QAA9B,CAAuC,QAAvC,CAAL,EAAuD;AACrD,UAAM,IAAI,WAAJ,CACJ,8DAA8D,MAAM,CAAC,IAAP,CAC5D,cAD4D,EAE5D,IAF4D,CAEvD,mBAFuD,CAEnC,EAHvB,CAAN;AAKD;AACF;;AAED,OAAO,eAAe,iBAAf,CACL,SADK,EAEL,IAFK,EAGL,OAAA,GAA+B;AAAE,EAAA,QAAQ,EAAE,cAAc,CAAC;AAA3B,CAH1B,EAG0D;AAE/D,MAAI,CAAC,UAAU,CAAC,iBAAhB,EAAmC;AACjC,UAAM,IAAI,mBAAJ,CAAwB,aAAxB,EAAuC,mBAAvC,CAAN;AACD;;AAED,EAAA,eAAe,CAAC,SAAD,CAAf;AACA,EAAA,UAAU,CAAC,IAAD,CAAV;AACA,EAAA,cAAc,CAAC,OAAO,CAAC,QAAT,CAAd;AAEA,SAAO,MAAM,UAAU,CAAC,iBAAX,CAA6B,SAA7B,EAAwC,IAAxC,EAA8C,OAA9C,CAAb;AACD","sourcesContent":["import { UnavailabilityError } from '@unimodules/core';\nimport ExpoCrypto from './ExpoCrypto';\n\nimport { CryptoDigestAlgorithm, CryptoEncoding, CryptoDigestOptions, Digest } from './Crypto.types';\nexport * from './Crypto.types';\n\nclass CryptoError extends TypeError {\n  code = 'ERR_CRYPTO';\n\n  constructor(message: string) {\n    super(`expo-crypto: ${message}`);\n  }\n}\n\nfunction assertAlgorithm(algorithm: CryptoDigestAlgorithm): void {\n  if (!Object.values(CryptoDigestAlgorithm).includes(algorithm)) {\n    throw new CryptoError(\n      `Invalid algorithm provided. Expected one of: CryptoDigestAlgorithm.${Object.keys(\n        CryptoDigestAlgorithm\n      ).join(', AlgCryptoDigestAlgorithmorithm.')}`\n    );\n  }\n}\n\nfunction assertData(data: string): void {\n  if (typeof data !== 'string') {\n    throw new CryptoError(`Invalid data provided. Expected a string.`);\n  }\n}\n\nfunction assertEncoding(encoding: CryptoEncoding): void {\n  if (!Object.values(CryptoEncoding).includes(encoding)) {\n    throw new CryptoError(\n      `Invalid encoding provided. Expected one of: CryptoEncoding.${Object.keys(\n        CryptoEncoding\n      ).join(', CryptoEncoding.')}`\n    );\n  }\n}\n\nexport async function digestStringAsync(\n  algorithm: CryptoDigestAlgorithm,\n  data: string,\n  options: CryptoDigestOptions = { encoding: CryptoEncoding.HEX }\n): Promise<Digest> {\n  if (!ExpoCrypto.digestStringAsync) {\n    throw new UnavailabilityError('expo-crypto', 'digestStringAsync');\n  }\n\n  assertAlgorithm(algorithm);\n  assertData(data);\n  assertEncoding(options.encoding);\n\n  return await ExpoCrypto.digestStringAsync(algorithm, data, options);\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}