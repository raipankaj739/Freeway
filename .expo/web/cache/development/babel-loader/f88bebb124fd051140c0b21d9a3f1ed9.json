{"ast":null,"code":"import { UnavailabilityError } from '@unimodules/core';\nimport { toByteArray } from 'base64-js';\nimport ExpoRandom from './ExpoRandom';\n\nfunction assertByteCount(value) {\n  if (typeof value !== 'number' || isNaN(value) || Math.floor(value) < 0 || Math.floor(value) > 1024) {\n    throw new TypeError(`expo-random: getRandomBytesAsync(${value}) expected a valid number from range 0...1024`);\n  }\n}\n\nexport async function getRandomBytesAsync(byteCount) {\n  assertByteCount(byteCount);\n  const validByteCount = Math.floor(byteCount);\n\n  if (ExpoRandom.getRandomBytesAsync) {\n    return await ExpoRandom.getRandomBytesAsync(validByteCount);\n  } else if (ExpoRandom.getRandomBase64StringAsync) {\n    const base64 = await ExpoRandom.getRandomBase64StringAsync(validByteCount);\n    return toByteArray(base64);\n  } else {\n    throw new UnavailabilityError('expo-random', 'getRandomBytesAsync');\n  }\n}","map":{"version":3,"sources":["../src/Random.ts"],"names":[],"mappings":"AAAA,SAAS,mBAAT,QAAoC,kBAApC;AACA,SAAS,WAAT,QAA4B,WAA5B;AACA,OAAO,UAAP,MAAuB,cAAvB;;AAEA,SAAS,eAAT,CAAyB,KAAzB,EAAmC;AACjC,MACE,OAAO,KAAP,KAAiB,QAAjB,IACA,KAAK,CAAC,KAAD,CADL,IAEA,IAAI,CAAC,KAAL,CAAW,KAAX,IAAoB,CAFpB,IAGA,IAAI,CAAC,KAAL,CAAW,KAAX,IAAoB,IAJtB,EAKE;AACA,UAAM,IAAI,SAAJ,CACJ,oCAAoC,KAAK,+CADrC,CAAN;AAGD;AACF;;AAED,OAAO,eAAe,mBAAf,CAAmC,SAAnC,EAAoD;AACzD,EAAA,eAAe,CAAC,SAAD,CAAf;AACA,QAAM,cAAc,GAAG,IAAI,CAAC,KAAL,CAAW,SAAX,CAAvB;;AACA,MAAI,UAAU,CAAC,mBAAf,EAAoC;AAClC,WAAO,MAAM,UAAU,CAAC,mBAAX,CAA+B,cAA/B,CAAb;AACD,GAFD,MAEO,IAAI,UAAU,CAAC,0BAAf,EAA2C;AAChD,UAAM,MAAM,GAAG,MAAM,UAAU,CAAC,0BAAX,CAAsC,cAAtC,CAArB;AACA,WAAO,WAAW,CAAC,MAAD,CAAlB;AACD,GAHM,MAGA;AACL,UAAM,IAAI,mBAAJ,CAAwB,aAAxB,EAAuC,qBAAvC,CAAN;AACD;AACF","sourcesContent":["import { UnavailabilityError } from '@unimodules/core';\nimport { toByteArray } from 'base64-js';\nimport ExpoRandom from './ExpoRandom';\n\nfunction assertByteCount(value: any): void {\n  if (\n    typeof value !== 'number' ||\n    isNaN(value) ||\n    Math.floor(value) < 0 ||\n    Math.floor(value) > 1024\n  ) {\n    throw new TypeError(\n      `expo-random: getRandomBytesAsync(${value}) expected a valid number from range 0...1024`\n    );\n  }\n}\n\nexport async function getRandomBytesAsync(byteCount: number): Promise<Uint8Array> {\n  assertByteCount(byteCount);\n  const validByteCount = Math.floor(byteCount);\n  if (ExpoRandom.getRandomBytesAsync) {\n    return await ExpoRandom.getRandomBytesAsync(validByteCount);\n  } else if (ExpoRandom.getRandomBase64StringAsync) {\n    const base64 = await ExpoRandom.getRandomBase64StringAsync(validByteCount);\n    return toByteArray(base64);\n  } else {\n    throw new UnavailabilityError('expo-random', 'getRandomBytesAsync');\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}